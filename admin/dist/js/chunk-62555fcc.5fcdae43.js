(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62555fcc"],{"7dfc":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"tables"},[t._m(0),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12 grid-margin stretch-card"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h4",{staticClass:"card-title"}),s("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"success"},on:{click:function(e){return t.createPost()}}},[t._v(" Создать пост ")]),s("b-table",{attrs:{responsive:"",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[s("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:function(s){return t.sourcePost(e.item,e.index,s.target)}}},[t._v(" Источники ")]),s("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:function(s){return t.editPost(e.item,e.index,s.target)}}},[t._v(" Редактировать ")]),s("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:function(s){return t.deletePost(e.item,e.index,s.target)}}},[t._v(" Удалить ")])]}}])},[s("template",{slot:"bottom-row"})],2),s("b-modal",{ref:"my-modal",attrs:{id:t.infoModal.id,title:t.infoModal.title},on:{hide:t.resetInfoModal,ok:t.handleOk}},[s("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[s("b-form-group",{attrs:{label:"Новый баланс","label-for":"name-input","invalid-feedback":"Name is required"}},[s("b-form-input",{attrs:{id:"name-input",required:""}})],1)],1)])],1)])])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-header"},[s("h3",{staticClass:"page-title"},[t._v("Список записей")]),s("nav",{attrs:{"aria-label":"breadcrumb"}},[s("ol",{staticClass:"breadcrumb"},[s("li",{staticClass:"breadcrumb-item"},[s("a",{attrs:{href:"javascript:void(0);"}},[t._v("Table")])]),s("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" Список записей ")])])])])}],n=(s("b0c0"),s("d3b7"),s("96cf"),s("bc3a")),i=s.n(n),c={name:"list",components:{},data:function(){return{loading:!1,idPost:"",items:Array,infoModal:{id:"info-modal",title:"",content:""},fields:[{key:"title",label:"Title",sortable:!0},{key:"words",label:"Кол-во слов",sortable:!0},{key:"difference_point",label:"Прирост слов",sortable:!0},{key:"status",label:"Статус",sortable:!0},{key:"total_sources",label:"Кол-во источников",sortable:!0},{key:"updated_at",label:"Последнее обновление",sortable:!0},{key:"actions",label:"Actions"},,]}},methods:{handleOk:function(t){t.preventDefault(),this.handleSubmit()},sourcePost:function(t,e,s){this.$router.push({path:"/sources/source/".concat(t.id)})},createPost:function(){this.$router.push({path:"/posts/create"})},editPost:function(t,e,s){this.infoModal.title=t.name,this.idPost=t.id,this.$router.push({path:"/posts/edit/".concat(t.id)})},deletePost:function(t,e,s){var o=this;this.idPost=t.id;var a=this;i.a.get("/sanctum/csrf-cookie").then((function(t){i.a.post("/api/posts/delete",{id_post:a.idPost}).then((function(t){t.status?(console.log("Вызвали алерт"),o.getCheck()):(console.log("Не работает"),console.log(t.status))})).catch((function(e){console.log(t),console.error(e)}))}))},getPosts:function(){var t=this;i.a.get("/api/posts/list").then((function(e){t.items=e.data.posts,console.log(e.data.posts)})).catch((function(t){console.error(t)}))},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},handleSubmit:function(){var t,e=this;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:t=this,i.a.get("/sanctum/csrf-cookie").then((function(s){i.a.post("/api/finance/set-balance",{id_check:t.idPost}).then((function(t){t.status?(console.log("Вызвали алерт"),e.getCheck(),e.$refs["my-modal"].hide()):(console.log("Не работает"),console.log(t.status))})).catch((function(t){console.log(s),console.error(t)}))}));case 2:case"end":return s.stop()}}),null,this)}},mounted:function(){this.getPosts()},computed:{}},r=c,l=s("2877"),u=Object(l["a"])(r,o,a,!1,null,null,null);e["default"]=u.exports},b0c0:function(t,e,s){var o=s("83ab"),a=s("9bf2").f,n=Function.prototype,i=n.toString,c=/^\s*function ([^ (]*)/,r="name";!o||r in n||a(n,r,{configurable:!0,get:function(){try{return i.call(this).match(c)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-62555fcc.5fcdae43.js.map